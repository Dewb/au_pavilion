import numpy as np

x_min = 136.8628
y_min = 271.4818
x_max = 391.8756
y_max = 526.4946

def srange(val, min, max):
	return (val - min) / (max - min)

def transform_point(x, y):
	return (srange(x, x_min, x_max), srange(y, y_min, y_max))

def rotate(pt):
	return (pt[1], pt[0]);

def centroid(shape):
	x = shape[0:-1:2]
	y = shape[1::2]
	count = int(len(shape)/2)
	i = range(0, count, 1)
	x.append(x[0])
	y.append(y[0])

	#A = 1/2 * sum(map(lambda i: (x[i]*y[i+1] - x[i+1]*y[i]), i))
	A = 0.5*np.abs(np.dot(x,np.roll(y,1))-np.dot(y,np.roll(x,1)))

	centerX = 1/(6*A) * sum(map(lambda i: (x[i] + x[i+1]) * (x[i]*y[i+1] - x[i+1]*y[i]), i))
	centerY = 1/(6*A) * sum(map(lambda i: (y[i] + y[i+1]) * (x[i]*y[i+1] - x[i+1]*y[i]), i))
	return (centerX, centerY)

shapes = [

#15 (1)
[
136.8628, 271.4818,
176.2526, 271.4818,
221.2725, 325.8104,
187.8162, 346.7657,
136.8628, 328.1309,
136.8628, 271.4818
],

#13 (2)
[
176.2526, 271.4818,
269.5896, 271.4818,
256.4053, 307.0998,
234.9276, 326.2118,
221.2725, 325.8104,
176.2526, 271.4818
],

#7 (3)
[
269.5896, 271.4818,
321.6553, 271.4818,
356.1992, 322.9084,
332.0065, 349.0492,
256.4053, 307.0998,
269.5896, 271.4818
],

#4 (4)
[
321.6553, 271.4818,
391.8756, 271.4818,
391.8756, 317.4985,
356.1992, 322.9084,
321.6553, 271.4818
],

#2 (5)
[
391.8756, 317.4985,
391.8756, 408.3838,
361.5897, 406.2753,
327.6483, 371.3407,
332.0065, 349.0492,
356.1992, 322.9084,
391.8756, 317.4985
],

#3 (6)
[
391.8756, 408.3838,
391.8756, 477.6090,
356.0759, 483.2876,
330.3382, 459.2326,
361.5897, 406.2753,
391.8756, 408.3838
],

#18 (7)
[
391.8756, 477.6090,
391.8756, 526.4946,
344.6557, 526.4946,
356.0759, 483.2876,
391.8756, 477.6090
],

#6 (8)
[
344.6557, 526.4946,
284.0367, 526.4946,
280.1591, 507.6523,
308.2280, 457.9317,
330.3382, 459.2326,
356.0759, 483.2876,
344.6557, 526.4946
],

#11 (9)
[
284.0367, 526.4946,
198.7990, 526.4946,
210.3310, 485.8333,
231.7863, 479.4869,
280.1591, 507.6523,
284.0367, 526.4946
],


#16 (10)
[
198.7990, 526.4946,
136.8628, 526.4946,
136.8628, 472.0711,
186.1869, 461.0388,
210.3310, 485.8333,
198.7990, 526.4946
],

#17 (11)
[
186.1869, 461.0388,
136.8628, 472.0711,
136.8628, 401.7240,
175.4651, 399.4488,
190.8875, 413.9254,
186.1869, 461.0388
],

#1 (12)
[
175.4651, 399.4488,
136.8628, 401.7240,
136.8628, 328.1309,
187.8162, 346.7657, 
175.4651, 399.4488
],

#14
[
227.1278, 409.9056,
190.8875, 413.9254,
175.4651, 399.4488,
187.8162, 346.7657,
221.2725, 325.8104,
234.9276, 326.2118,
250.6395, 369.1725,
227.1278, 409.9056
],

#8 (14)
[
297.6006, 388.6947,
250.6395, 369.1725,
234.9276, 326.2118,
256.4053, 307.0998,
332.0065, 349.0492,
327.6483, 371.3407,
297.6006, 388.6947
],

#5 (15)
[
330.3382, 459.2326,
308.2280, 457.9317,
288.2624, 436.1796,
297.6006, 388.6947,
327.6483, 371.3407,
361.5897, 406.2753,
330.3382, 459.2326
],

#9 (16)
[
280.1591, 507.6523,
231.7863, 479.4869,
253.6746, 439.0007,
288.2624, 436.1796,
308.2280, 457.9317,
280.1591, 507.6523
],

#12 (17)
[
231.7863, 479.4869,
210.3310, 485.8333,
186.1869, 461.0388,
190.8875, 413.9254,
227.1278, 409.9056,
253.6746, 439.0007,
231.7863, 479.4869
],

#10 (18)
[
288.2624, 436.1796,
253.6746, 439.0007,
227.1278, 409.9056,
250.6395, 369.1725,
297.6006, 388.6947,
288.2624, 436.1796
]

]

for index, shape in enumerate(shapes):
	i = index + 1
	print "shape" + str(i) + " = {"
	
	for n in range(len(shape)/2):
		pt_p = rotate(transform_point(shape[2*n], shape[2*n+1]))
		print ('%0.4g' % pt_p[0]) + ", " + ('%0.4g' % pt_p[1]) + (", " if (n < len(shape)/2 - 1) else "")
	
	print "};"

	c = centroid(shape)
	c_p = rotate(transform_point(c[0], c[1]))
	
	print "waveorigin_x[" + str(i) + "] = " + ('%0.4g' % c_p[0]) + ";"
	print "waveorigin_y[" + str(i) + "] = " + ('%0.4g' % c_p[1]) + ";"
	print ""
